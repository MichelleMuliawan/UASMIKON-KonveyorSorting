import processing.serial.*;

Serial myPort;  // Create object from Serial class
color bgColor = color(255);  // Default background color

void setup() {
  size(200, 200);
  // Replace "COM3" with your Arduino port
  myPort = new Serial(this, "COM3", 9600);
}

void draw() {
  background(bgColor);
  textSize(16);
  fill(0);

  // Check for incoming data from Arduino
  while (myPort.available() > 0) {
    String data = myPort.readStringUntil('\n');
    if (data != null) {
      data = data.trim();
      println("Received from Arduino: " + data);
      
      if (data.equals("Red")) {
        println("Received Color: Red");
        bgColor = color(255, 0, 0);  // Set background color to red
        // Call function to handle temperature and weight
      } else if (data.equals("Green")) {
        println("Received Color: Green");
        bgColor = color(0, 255, 0);  // Set background color to green
        // Call function to handle temperature and weight
      } else if (data.equals("Unknown")) {
        println("Received Color: Unknown");
        bgColor = color(128);  // Set background color to gray for unknown
      }
    }
  }
}

void mousePressed() {
  // Send reset command to Arduino
  myPort.write("RESET\n");
}
